<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—É–¥–∏–æ, –≤–∏–¥–µ–æ –∏ –≥—Ä–∞—Ñ–∏–∫–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f0f0f0;
        }
        
        .section {
            background: white;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        .controls {
            margin: 15px 0;
            padding: 10px;
            background: #ecf0f1;
            border-radius: 5px;
        }
        
        canvas {
            border: 2px solid #2c3e50;
            background: white;
            display: block;
            margin: 10px 0;
        }
        
        input[type="range"] {
            width: 150px;
            margin: 0 10px;
        }
        
        .media-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .media-box {
            flex: 1;
            min-width: 300px;
        }
        
        video, audio {
            width: 100%;
            margin-top: 10px;
        }
        
        .image-preview {
            max-width: 300px;
            max-height: 200px;
            margin: 10px 0;
            border: 2px dashed #ccc;
        }
        
        .filter-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        
        .filter-btn {
            background: #9b59b6;
        }
        
        .animation-controls {
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>–†–∞–±–æ—Ç–∞ —Å –∞—É–¥–∏–æ, –≤–∏–¥–µ–æ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</h1>
    
    <div class="section">
        <h2>1. –ê—É–¥–∏–æ –∏ –≤–∏–¥–µ–æ</h2>
        
        <div class="media-container">
            <div class="media-box">
                <h3>–í–∏–¥–µ–æ –ø–ª–µ–µ—Ä</h3>
                <video id="myVideo" controls>
                    <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ
                </video>
                <div class="controls">
                    <button onclick="playVideo()">‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏</button>
                    <button onclick="pauseVideo()">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                    <button onclick="stopVideo()">‚èπÔ∏è –°—Ç–æ–ø</button>
                    <br>
                    –ì—Ä–æ–º–∫–æ—Å—Ç—å: <input type="range" id="videoVolume" min="0" max="1" step="0.1" value="1" onchange="changeVideoVolume()">
                </div>
            </div>
            
            <div class="media-box">
                <h3>–ê—É–¥–∏–æ –ø–ª–µ–µ—Ä</h3>
                <audio id="myAudio" controls>
                    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mp3">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ
                </audio>
                <div class="controls">
                    <button onclick="playAudio()">‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏</button>
                    <button onclick="pauseAudio()">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                    <button onclick="muteAudio()">üîá –ë–µ–∑ –∑–≤—É–∫–∞</button>
                    <br>
                    –ì—Ä–æ–º–∫–æ—Å—Ç—å: <input type="range" id="audioVolume" min="0" max="1" step="0.1" value="1" onchange="changeAudioVolume()">
                </div>
            </div>
        </div>
    </div>
    
    <div class="section">
        <h2>2. –ì—Ä–∞—Ñ–∏–∫–∞ –∏ –∞–Ω–∏–º–∞—Ü–∏—è</h2>
        
        <canvas id="myCanvas" width="800" height="300"></canvas>
        
        <div class="animation-controls">
            <button onclick="startAnimation()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é</button>
            <button onclick="stopAnimation()">‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            <button onclick="clearCanvas()">üßπ –û—á–∏—Å—Ç–∏—Ç—å</button>
            <br>
            –°–∫–æ—Ä–æ—Å—Ç—å: <input type="range" id="speedControl" min="1" max="10" value="3" onchange="changeSpeed()">
            –¶–≤–µ—Ç: 
            <button onclick="changeColor('red')" style="background:red">üî¥</button>
            <button onclick="changeColor('blue')" style="background:blue">üîµ</button>
            <button onclick="changeColor('green')" style="background:green">üü¢</button>
            <button onclick="changeColor('random')">üé® –°–ª—É—á–∞–π–Ω—ã–π</button>
        </div>
    </div>
    
    <div class="section">
        <h2>3. –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</h2>
        
        <input type="file" id="imageUpload" accept="image/*" onchange="loadImage()">
        
        <div>
            <img id="imagePreview" class="image-preview" alt="–ü—Ä–µ–≤—å—é">
            <canvas id="imageCanvas" width="400" height="300"></canvas>
        </div>
        
        <div class="filter-controls">
            <h3>–§–∏–ª—å—Ç—Ä—ã:</h3>
            <button onclick="applyFilter('gray')" class="filter-btn">‚ö´ –ß/–ë</button>
            <button onclick="applyFilter('sepia')" class="filter-btn">üü§ –°–µ–ø–∏—è</button>
            <button onclick="applyFilter('invert')" class="filter-btn">üîÑ –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            <button onclick="applyFilter('blur')" class="filter-btn">üå´Ô∏è –†–∞–∑–º—ã—Ç–∏–µ</button>
            <button onclick="applyFilter('original')" class="filter-btn">‚Ü©Ô∏è –û—Ä–∏–≥–∏–Ω–∞–ª</button>
        </div>
        
        <div>
            <button onclick="resizeImage(0.5)">üìè –£–º–µ–Ω—å—à–∏—Ç—å –≤ 2 —Ä–∞–∑–∞</button>
            <button onclick="resizeImage(2)">üìè –£–≤–µ–ª–∏—á–∏—Ç—å –≤ 2 —Ä–∞–∑–∞</button>
            <button onclick="cropImage()">‚úÇÔ∏è –û–±—Ä–µ–∑–∞—Ç—å</button>
            <button onclick="saveImage()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
        </div>
    </div>

    <script>
        // 1. –ê—É–¥–∏–æ –∏ –≤–∏–¥–µ–æ
        const video = document.getElementById('myVideo');
        const audio = document.getElementById('myAudio');
        
        function playVideo() {
            video.play();
        }
        
        function pauseVideo() {
            video.pause();
        }
        
        function stopVideo() {
            video.pause();
            video.currentTime = 0;
        }
        
        function changeVideoVolume() {
            video.volume = document.getElementById('videoVolume').value;
        }
        
        function playAudio() {
            audio.play();
        }
        
        function pauseAudio() {
            audio.pause();
        }
        
        function muteAudio() {
            audio.muted = !audio.muted;
        }
        
        function changeAudioVolume() {
            audio.volume = document.getElementById('audioVolume').value;
        }
        
        // 2. –ì—Ä–∞—Ñ–∏–∫–∞ –∏ –∞–Ω–∏–º–∞—Ü–∏—è
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');
        
        let animationId = null;
        let x = 50;
        let y = 150;
        let dx = 3;
        let dy = 2;
        let circleColor = 'blue';
        let speed = 3;
        
        function drawCircle() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            ctx.beginPath();
            ctx.arc(x, y, 30, 0, Math.PI * 2);
            ctx.fillStyle = circleColor;
            ctx.fill();
            ctx.stroke();
            
            ctx.fillStyle = 'black';
            ctx.font = '16px Arial';
            ctx.fillText('–î–≤–∏–≥–∞—é—â–∏–π—Å—è –∫—Ä—É–≥', 20, 30);
            
            ctx.beginPath();
            ctx.moveTo(0, 150);
            ctx.lineTo(800, 150);
            ctx.strokeStyle = '#ccc';
            ctx.stroke();
        }
        
        function animate() {
            x += dx * (speed / 3);
            y += dy * (speed / 3);
            
            if (x > canvas.width - 30 || x < 30) dx = -dx;
            if (y > canvas.height - 30 || y < 30) dy = -dy;
            
            drawCircle();
            animationId = requestAnimationFrame(animate);
        }
        
        function startAnimation() {
            if (!animationId) {
                animate();
            }
        }
        
        function stopAnimation() {
            cancelAnimationFrame(animationId);
            animationId = null;
        }
        
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        function changeSpeed() {
            speed = document.getElementById('speedControl').value;
        }
        
        function changeColor(color) {
            if (color === 'random') {
                circleColor = '#' + Math.floor(Math.random()*16777215).toString(16);
            } else {
                circleColor = color;
            }
        }
        
        drawCircle();
        
        // 3. –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
        const imageCanvas = document.getElementById('imageCanvas');
        const imageCtx = imageCanvas.getContext('2d');
        let currentImage = null;
        
        function loadImage() {
            const file = document.getElementById('imageUpload').files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    currentImage = img;
                    document.getElementById('imagePreview').src = e.target.result;
                    drawImageOnCanvas(img);
                }
                img.src = e.target.result;
            }
            reader.readAsDataURL(file);
        }
        
        function drawImageOnCanvas(img) {
            imageCanvas.width = 400;
            imageCanvas.height = 300;
            imageCtx.drawImage(img, 0, 0, 400, 300);
        }
        
        function applyFilter(filterType) {
            if (!currentImage) return;
            
            drawImageOnCanvas(currentImage);
            const imageData = imageCtx.getImageData(0, 0, imageCanvas.width, imageCanvas.height);
            const data = imageData.data;
            
            for (let i = 0; i < data.length; i += 4) {
                const r = data[i];
                const g = data[i + 1];
                const b = data[i + 2];
                
                if (filterType === 'gray') {
                    const gray = 0.299 * r + 0.587 * g + 0.114 * b;
                    data[i] = data[i + 1] = data[i + 2] = gray;
                }
                else if (filterType === 'sepia') {
                    data[i] = r * 0.393 + g * 0.769 + b * 0.189;
                    data[i + 1] = r * 0.349 + g * 0.686 + b * 0.168;
                    data[i + 2] = r * 0.272 + g * 0.534 + b * 0.131;
                }
                else if (filterType === 'invert') {
                    data[i] = 255 - r;
                    data[i + 1] = 255 - g;
                    data[i + 2] = 255 - b;
                }
                else if (filterType === 'blur') {
                    // –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ
                    const avg = (r + g + b) / 3;
                    data[i] = data[i + 1] = data[i + 2] = avg;
                }
            }
            
            imageCtx.putImageData(imageData, 0, 0);
        }
        
        function resizeImage(scale) {
            if (!currentImage) return;
            
            const newWidth = imageCanvas.width * scale;
            const newHeight = imageCanvas.height * scale;
            
            imageCanvas.width = newWidth;
            imageCanvas.height = newHeight;
            imageCtx.drawImage(currentImage, 0, 0, newWidth, newHeight);
        }
        
        function cropImage() {
            if (!currentImage) return;
            
            imageCtx.drawImage(currentImage, 50, 50, 300, 200, 0, 0, 400, 300);
        }
        
        function saveImage() {
            if (!currentImage) {
                alert('–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ');
                return;
            }
            
            const link = document.createElement('a');
            link.download = '–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.png';
            link.href = imageCanvas.toDataURL('image/png');
            link.click();
            alert('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!');
        }
        
        // –ü—Ä–∏–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const defaultImg = new Image();
        defaultImg.onload = function() {
            currentImage = defaultImg;
            drawImageOnCanvas(defaultImg);
        }
        defaultImg.src = 'https://picsum.photos/400/300';
    </script>
</body>
</html>